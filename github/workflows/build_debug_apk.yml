steps:
  - name: Checkout
    uses: actions/checkout@v4

  - name: Setup Java
    uses: actions/setup-java@v4
    with:
      distribution: 'temurin'
      java-version: '11'

  - name: Setup Flutter
    uses: subosito/flutter-action@v2
    with:
      flutter-version: 'stable'

  - name: Install dependencies
    run: |
      flutter pub get

  - name: Build debug APK
    run: |
      flutter build apk --debug

  - name: Upload APK artifact
    uses: actions/upload-artifact@v4
    with:
      name: alkhair-debug-apk
      path: build/app/outputs/flutter-apk/app-debug.apk
